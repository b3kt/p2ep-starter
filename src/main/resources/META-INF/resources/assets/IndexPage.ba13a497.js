import{Q as V}from"./QPage.674f3cdd.js";import{t as m,k as M,r as u,w as O,o as U,y as l,a9 as H,A as G,ai as K,_ as N,T as A,E as p,P as x,V as W,U as J,K as g,G as v,L as h,M as $,aj as X,O as I,D as Y,F as Z,I as c}from"./index.a76fad5b.js";import{Q as ee,a as z}from"./QCard.5bd61516.js";import"./use-dark.78938834.js";const te={ratio:[String,Number]};function ae(e,i){return m(()=>{const r=Number(e.ratio||(i!==void 0?i.value:void 0));return isNaN(r)!==!0&&r>0?{paddingBottom:`${100/r}%`}:null})}const ie=16/9;var ne=M({name:"QImg",props:{...te,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:ie},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:i,emit:r}){const _=u(e.initialRatio),y=ae(e,_);let a=null,s=!1;const n=[u(null),u(w())],o=u(0),d=u(!1),f=u(!1),Q=m(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),j=m(()=>({width:e.width,height:e.height})),D=m(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),P=m(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));O(()=>b(),T);function b(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function w(){return e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null}function T(t){a!==null&&(clearTimeout(a),a=null),f.value=!1,t===null?(d.value=!1,n[o.value^1].value=w()):d.value=!0,n[o.value].value=t}function L({target:t}){s!==!0&&(a!==null&&(clearTimeout(a),a=null),_.value=t.naturalHeight===0?.5:t.naturalWidth/t.naturalHeight,k(t,1))}function k(t,S){s===!0||S===1e3||(t.complete===!0?R(t):a=setTimeout(()=>{a=null,k(t,S+1)},50))}function R(t){s!==!0&&(o.value=o.value^1,n[o.value].value=null,d.value=!1,f.value=!1,r("load",t.currentSrc||t.src))}function E(t){a!==null&&(clearTimeout(a),a=null),d.value=!1,f.value=!0,n[o.value].value=null,n[o.value^1].value=w(),r("error",t)}function q(t){const S=n[t].value,C={key:"img_"+t,class:D.value,style:P.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...S};return o.value===t?(C.class+=" q-img__image--waiting",Object.assign(C,{onLoad:L,onError:E})):C.class+=" q-img__image--loaded",l("div",{class:"q-img__container absolute-full",key:"img"+t},l("img",C))}function F(){return d.value!==!0?l("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},G(i[f.value===!0?"error":"default"])):l("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},i.loading!==void 0?i.loading():e.noSpinner===!0?void 0:[l(K,{color:e.spinnerColor,size:e.spinnerSize})])}return T(b()),U(()=>{s=!0,a!==null&&(clearTimeout(a),a=null)}),()=>{const t=[];return y.value!==null&&t.push(l("div",{key:"filler",style:y.value})),f.value!==!0&&(n[0].value!==null&&t.push(q(0)),n[1].value!==null&&t.push(q(1))),t.push(l(H,{name:"q-transition--fade"},F)),l("div",{class:Q.value,style:j.value,role:"img","aria-label":e.alt},t)}}});const re={name:"AppCategoryTile",props:{data:{type:Array}},setup(){return{prefix:"/src/"}}},se={class:"fit row wrap justify-center items-start content-start q-col-gutter-md"};function oe(e,i,r,_,y,a){const s=A("router-link");return p(),x("div",se,[(p(!0),x(W,null,J(r.data,n=>(p(),x("div",{key:n.ordinal,class:"col-md-3 col-sm-6 col-xs-12"},[g(s,{to:`/dashboard/${n.name.toLowerCase()}`},{default:v(()=>[g(ee,{class:"bg-accent"},{default:v(()=>[g(z,{class:"text-center"},{default:v(()=>[g(ne,{src:`/icons/icon-${n.name.toLowerCase()}.svg`,class:"img-icon",fit:"contain"},null,8,["src"])]),_:2},1024),g(z,{class:"text-center"},{default:v(()=>[h($(n.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["to"])]))),128))])}var le=N(re,[["render",oe]]);const B=X("category",{persist:{storage:sessionStorage,paths:["categories"]},state:()=>({categories:[]}),getters:{getCategories:e=>e.categories},actions:{async fetchCategories(e){try{await e.$api.get("/resource/categories",{headers:{Authorization:`Bearer ${I().getAccessToken}`}}).then(i=>{i.status===200&&this.setCategories(i.data)})}catch(i){return console.log(i),e.$q.notify({message:"error",color:"negative"}),i}},setCategories(e){this.categories=e}}});var ce="/assets/p2ep-logo.d5c16602.svg";const ue=Y({name:"IndexPage",components:{AppCategoryTile:le},data(){return{session:I(),categories:B().getCategories}},mounted(){B().fetchCategories(this)}}),ge={class:"fit row wrap justify-center items-start content-start"},de={class:"full-width text-center text-primary"},fe={class:"text-capitalize"},me=c("div",null,[c("img",{class:"img-icon",src:ce})],-1),ve={class:"full-width text-center text-primary text-bold"},he={class:"text-capitalize"};function _e(e,i,r,_,y,a){const s=A("AppCategoryTile");return p(),Z(V,{class:"flex flex-center"},{default:v(()=>[c("div",ge,[c("h4",de,[h("Selamat Datang "),c("span",fe,$(e.session.userData.name),1),h(" di platform")]),me,c("h4",ve,[h("Selamat Datang "),c("span",he,$(e.session.userData.name),1),h(" di platform")])]),g(s,{data:e.categories},null,8,["data"])]),_:1})}var we=N(ue,[["render",_e]]);export{we as default};
