import{k as _,t as b,y as w,A as F,C as P,w as $,X as Fe,u as qe,v as K,Y as ke,o as R,Z as we,$ as Re,a0 as ze,a1 as Ke,r as B,a2 as j,s as Ee,N as Ve,f as ce,e as de,j as Ie,l as ee,a3 as z,a4 as je,a5 as Oe,a6 as Ne,a7 as Ue,a8 as Ge,c as ne,i as Xe,a9 as Ye,aa as Ze,a as Je}from"./index.c9ae91ff.js";import{u as O,a as N}from"./use-dark.606cdca4.js";import{r as fe,a as et,b as tt}from"./focus-manager.02955f48.js";import{b as nt,c as lt}from"./scroll.7f1e5cb9.js";var Wt=_({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const n=b(()=>parseInt(e.lines,10)),l=b(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),i=b(()=>e.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>w("div",{style:i.value,class:l.value},F(t.default))}}),At=_({name:"QList",props:{...O,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:t}){const n=P(),l=N(e,n.proxy.$q),i=b(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(l.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>w(e.tag,{class:i.value},F(t.default))}});const it={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},ot=["beforeShow","show","beforeHide","hide"];function at({showing:e,canShow:t,hideOnRouteChange:n,handleShow:l,handleHide:i,processOnMount:d}){const o=P(),{props:r,emit:s,proxy:f}=o;let u;function g(h){e.value===!0?v(h):p(h)}function p(h){if(r.disable===!0||h!==void 0&&h.qAnchorHandled===!0||t!==void 0&&t(h)!==!0)return;const c=r["onUpdate:modelValue"]!==void 0;c===!0&&(s("update:modelValue",!0),u=h,K(()=>{u===h&&(u=void 0)})),(r.modelValue===null||c===!1)&&a(h)}function a(h){e.value!==!0&&(e.value=!0,s("beforeShow",h),l!==void 0?l(h):s("show",h))}function v(h){if(r.disable===!0)return;const c=r["onUpdate:modelValue"]!==void 0;c===!0&&(s("update:modelValue",!1),u=h,K(()=>{u===h&&(u=void 0)})),(r.modelValue===null||c===!1)&&E(h)}function E(h){e.value!==!1&&(e.value=!1,s("beforeHide",h),i!==void 0?i(h):s("hide",h))}function k(h){r.disable===!0&&h===!0?r["onUpdate:modelValue"]!==void 0&&s("update:modelValue",!1):h===!0!==e.value&&(h===!0?a:E)(u)}$(()=>r.modelValue,k),n!==void 0&&Fe(o)===!0&&$(()=>f.$route.fullPath,()=>{n.value===!0&&e.value===!0&&v()}),d===!0&&qe(()=>{k(r.modelValue)});const T={show:p,hide:v,toggle:g};return Object.assign(f,T),T}function ut(){let e=null;const t=P();function n(){e!==null&&(clearTimeout(e),e=null)}return ke(n),R(n),{removeTimeout:n,registerTimeout(l,i){n(),we(t)===!1&&(e=setTimeout(l,i))}}}function rt(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),Re.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}var Qt=_({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const n=b(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>w("div",{class:n.value},F(t.default))}}),Dt=_({name:"QItem",props:{...O,...ze,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:n}){const{proxy:{$q:l}}=P(),i=N(e,l),{hasLink:d,linkAttrs:o,linkClass:r,linkTag:s,navigateOnClick:f}=Ke(),u=B(null),g=B(null),p=b(()=>e.clickable===!0||d.value===!0||e.tag==="label"),a=b(()=>e.disable!==!0&&p.value===!0),v=b(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(i.value===!0?" q-item--dark":"")+(d.value===!0&&e.active===null?r.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(a.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),E=b(()=>{if(e.insetLevel===void 0)return null;const c=l.lang.rtl===!0?"Right":"Left";return{["padding"+c]:16+e.insetLevel*56+"px"}});function k(c){a.value===!0&&(g.value!==null&&(c.qKeyEvent!==!0&&document.activeElement===u.value?g.value.focus():document.activeElement===g.value&&u.value.focus()),f(c))}function T(c){if(a.value===!0&&j(c,13)===!0){Ee(c),c.qKeyEvent=!0;const x=new MouseEvent("click",c);x.qKeyEvent=!0,u.value.dispatchEvent(x)}n("keyup",c)}function h(){const c=Ve(t.default,[]);return a.value===!0&&c.unshift(w("div",{class:"q-focus-helper",tabindex:-1,ref:g})),c}return()=>{const c={ref:u,class:v.value,style:E.value,role:"listitem",onClick:k,onKeyup:T};return a.value===!0?(c.tabindex=e.tabindex||"0",Object.assign(c,o.value)):p.value===!0&&(c["aria-disabled"]="true"),w(s.value,c,h())}}}),Ft=_({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:t}){const n=b(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>w("div",{class:n.value,role:"toolbar"},F(t.default))}});const st={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},Z={xs:2,sm:4,md:8,lg:16,xl:24};var Rt=_({name:"QSeparator",props:{...O,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=P(),n=N(e,t.proxy.$q),l=b(()=>e.vertical===!0?"vertical":"horizontal"),i=b(()=>` q-separator--${l.value}`),d=b(()=>e.inset!==!1?`${i.value}-${st[e.inset]}`:""),o=b(()=>`q-separator${i.value}${d.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(n.value===!0?" q-separator--dark":"")),r=b(()=>{const s={};if(e.size!==void 0&&(s[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const f=e.spaced===!0?`${Z.md}px`:e.spaced in Z?`${Z[e.spaced]}px`:e.spaced,u=e.vertical===!0?["Left","Right"]:["Top","Bottom"];s[`margin${u[0]}`]=s[`margin${u[1]}`]=f}return s});return()=>w("hr",{class:o.value,style:r.value,"aria-orientation":l.value})}});const ct={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function dt({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:l,proxy:i,emit:d}=P(),o=B(null);let r=null;function s(a){return o.value===null?!1:a===void 0||a.touches===void 0||a.touches.length<=1}const f={};n===void 0&&(Object.assign(f,{hide(a){i.hide(a)},toggle(a){i.toggle(a),a.qAnchorHandled=!0},toggleKey(a){j(a,13)===!0&&f.toggle(a)},contextClick(a){i.hide(a),ce(a),K(()=>{i.show(a),a.qAnchorHandled=!0})},prevent:ce,mobileTouch(a){if(f.mobileCleanup(a),s(a)!==!0)return;i.hide(a),o.value.classList.add("non-selectable");const v=a.target;de(f,"anchor",[[v,"touchmove","mobileCleanup","passive"],[v,"touchend","mobileCleanup","passive"],[v,"touchcancel","mobileCleanup","passive"],[o.value,"contextmenu","prevent","notPassive"]]),r=setTimeout(()=>{r=null,i.show(a),a.qAnchorHandled=!0},300)},mobileCleanup(a){o.value.classList.remove("non-selectable"),r!==null&&(clearTimeout(r),r=null),e.value===!0&&a!==void 0&&rt()}}),n=function(a=l.contextMenu){if(l.noParentEvent===!0||o.value===null)return;let v;a===!0?i.$q.platform.is.mobile===!0?v=[[o.value,"touchstart","mobileTouch","passive"]]:v=[[o.value,"mousedown","hide","passive"],[o.value,"contextmenu","contextClick","notPassive"]]:v=[[o.value,"click","toggle","passive"],[o.value,"keyup","toggleKey","passive"]],de(f,"anchor",v)});function u(){Ie(f,"anchor")}function g(a){for(o.value=a;o.value.classList.contains("q-anchor--skip");)o.value=o.value.parentNode;n()}function p(){if(l.target===!1||l.target===""||i.$el.parentNode===null)o.value=null;else if(l.target===!0)g(i.$el.parentNode);else{let a=l.target;if(typeof l.target=="string")try{a=document.querySelector(l.target)}catch{a=void 0}a!=null?(o.value=a.$el||a,n()):(o.value=null,console.error(`Anchor: target "${l.target}" not found`))}}return $(()=>l.contextMenu,a=>{o.value!==null&&(u(),n(a))}),$(()=>l.target,()=>{o.value!==null&&u(),p()}),$(()=>l.noParentEvent,a=>{o.value!==null&&(a===!0?u():n())}),qe(()=>{p(),t!==!0&&l.modelValue===!0&&o.value===null&&d("update:modelValue",!1)}),R(()=>{r!==null&&clearTimeout(r),u()}),{anchorEl:o,canShow:s,anchorEvents:f}}function ft(e,t){const n=B(null);let l;function i(r,s){const f=`${s!==void 0?"add":"remove"}EventListener`,u=s!==void 0?s:l;r!==window&&r[f]("scroll",u,ee.passive),window[f]("scroll",u,ee.passive),l=s}function d(){n.value!==null&&(i(n.value),n.value=null)}const o=$(()=>e.noParentEvent,()=>{n.value!==null&&(d(),t())});return R(o),{localScrollTarget:n,unconfigureScrollTarget:d,changeScrollEvent:i}}const A=[];function vt(e){return A.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function Te(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return z(e)}else if(e.__qPortal===!0){const n=z(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=z(e)}while(e!=null)}function mt(e,t,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(n--,e.$options.name==="QMenu"){e=Te(e,t);continue}e.hide(t)}e=z(e)}}function ht(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function gt(e,t,n,l){const i=B(!1),d=B(!1);let o=null;const r={},s=l==="dialog"&&ht(e);function f(g){if(g===!0){fe(r),d.value=!0;return}d.value=!1,i.value===!1&&(s===!1&&o===null&&(o=Ue(!1,l)),i.value=!0,A.push(e.proxy),et(r))}function u(g){if(d.value=!1,g!==!0)return;fe(r),i.value=!1;const p=A.indexOf(e.proxy);p!==-1&&A.splice(p,1),o!==null&&(Ge(o),o=null)}return je(()=>{u(!0)}),e.proxy.__qPortal=!0,Oe(e.proxy,"contentEl",()=>t.value),{showPortal:f,hidePortal:u,portalIsActive:i,portalIsAccessible:d,renderPortal:()=>s===!0?n():i.value===!0?[w(Ne,{to:o},n())]:void 0}}const bt={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function pt(e,t=()=>{},n=()=>{}){return{transitionProps:b(()=>{const l=`q-transition--${e.transitionShow||t()}`,i=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${l}-enter-from`,enterActiveClass:`${l}-enter-active`,enterToClass:`${l}-enter-to`,leaveFromClass:`${i}-leave-from`,leaveActiveClass:`${i}-leave-active`,leaveToClass:`${i}-leave-to`}}),transitionStyle:b(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function yt(){let e;const t=P();function n(){e=void 0}return ke(n),R(n),{removeTick:n,registerTick(l){e=l,K(()=>{e===l&&(we(t)===!1&&e(),e=void 0)})}}}const L=[];let Q;function xt(e){Q=e.keyCode===27}function qt(){Q===!0&&(Q=!1)}function kt(e){Q===!0&&(Q=!1,j(e,27)===!0&&L[L.length-1](e))}function Ce(e){window[e]("keydown",xt),window[e]("blur",qt),window[e]("keyup",kt),Q=!1}function wt(e){ne.is.desktop===!0&&(L.push(e),L.length===1&&Ce("addEventListener"))}function ve(e){const t=L.indexOf(e);t>-1&&(L.splice(t,1),L.length===0&&Ce("removeEventListener"))}const H=[];function Se(e){H[H.length-1](e)}function Et(e){ne.is.desktop===!0&&(H.push(e),H.length===1&&document.body.addEventListener("focusin",Se))}function Tt(e){const t=H.indexOf(e);t>-1&&(H.splice(t,1),H.length===0&&document.body.removeEventListener("focusin",Se))}const{notPassiveCapture:V}=ee,M=[];function I(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let n=A.length-1;for(;n>=0;){const l=A[n].$;if(l.type.name==="QTooltip"){n--;continue}if(l.type.name!=="QDialog")break;if(l.props.seamless!==!0)return;n--}for(let l=M.length-1;l>=0;l--){const i=M[l];if((i.anchorEl.value===null||i.anchorEl.value.contains(t)===!1)&&(t===document.body||i.innerRef.value!==null&&i.innerRef.value.contains(t)===!1))e.qClickOutside=!0,i.onClickOutside(e);else return}}function Ct(e){M.push(e),M.length===1&&(document.addEventListener("mousedown",I,V),document.addEventListener("touchstart",I,V))}function me(e){const t=M.findIndex(n=>n===e);t>-1&&(M.splice(t,1),M.length===0&&(document.removeEventListener("mousedown",I,V),document.removeEventListener("touchstart",I,V)))}let he,ge;function be(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function St(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const te={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{te[`${e}#ltr`]=e,te[`${e}#rtl`]=e});function pe(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:te[`${n[1]}#${t===!0?"rtl":"ltr"}`]}}function $t(e,t){let{top:n,left:l,right:i,bottom:d,width:o,height:r}=e.getBoundingClientRect();return t!==void 0&&(n-=t[1],l-=t[0],d+=t[1],i+=t[0],o+=t[0],r+=t[1]),{top:n,bottom:d,height:r,left:l,right:i,width:o,middle:l+(i-l)/2,center:n+(d-n)/2}}function Bt(e,t,n){let{top:l,left:i}=e.getBoundingClientRect();return l+=t.top,i+=t.left,n!==void 0&&(l+=n[1],i+=n[0]),{top:l,bottom:l+1,height:1,left:i,right:i+1,width:1,middle:i,center:l}}function Pt(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function ye(e,t,n,l){return{top:e[n.vertical]-t[l.vertical],left:e[n.horizontal]-t[l.horizontal]}}function $e(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{$e(e,t+1)},10);return}const{targetEl:n,offset:l,anchorEl:i,anchorOrigin:d,selfOrigin:o,absoluteOffset:r,fit:s,cover:f,maxHeight:u,maxWidth:g}=e;if(ne.is.ios===!0&&window.visualViewport!==void 0){const W=document.body.style,{offsetLeft:q,offsetTop:C}=window.visualViewport;q!==he&&(W.setProperty("--q-pe-left",q+"px"),he=q),C!==ge&&(W.setProperty("--q-pe-top",C+"px"),ge=C)}const{scrollLeft:p,scrollTop:a}=n,v=r===void 0?$t(i,f===!0?[0,0]:l):Bt(i,r,l);Object.assign(n.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:g||"100vw",maxHeight:u||"100vh",visibility:"visible"});const{offsetWidth:E,offsetHeight:k}=n,{elWidth:T,elHeight:h}=s===!0||f===!0?{elWidth:Math.max(v.width,E),elHeight:f===!0?Math.max(v.height,k):k}:{elWidth:E,elHeight:k};let c={maxWidth:g,maxHeight:u};(s===!0||f===!0)&&(c.minWidth=v.width+"px",f===!0&&(c.minHeight=v.height+"px")),Object.assign(n.style,c);const x=Pt(T,h);let y=ye(v,x,d,o);if(r===void 0||l===void 0)J(y,v,x,d,o);else{const{top:W,left:q}=y;J(y,v,x,d,o);let C=!1;if(y.top!==W){C=!0;const S=2*l[1];v.center=v.top-=S,v.bottom-=S+2}if(y.left!==q){C=!0;const S=2*l[0];v.middle=v.left-=S,v.right-=S+2}C===!0&&(y=ye(v,x,d,o),J(y,v,x,d,o))}c={top:y.top+"px",left:y.left+"px"},y.maxHeight!==void 0&&(c.maxHeight=y.maxHeight+"px",v.height>y.maxHeight&&(c.minHeight=c.maxHeight)),y.maxWidth!==void 0&&(c.maxWidth=y.maxWidth+"px",v.width>y.maxWidth&&(c.minWidth=c.maxWidth)),Object.assign(n.style,c),n.scrollTop!==a&&(n.scrollTop=a),n.scrollLeft!==p&&(n.scrollLeft=p)}function J(e,t,n,l,i){const d=n.bottom,o=n.right,r=nt(),s=window.innerHeight-r,f=document.body.clientWidth;if(e.top<0||e.top+d>s)if(i.vertical==="center")e.top=t[l.vertical]>s/2?Math.max(0,s-d):0,e.maxHeight=Math.min(d,s);else if(t[l.vertical]>s/2){const u=Math.min(s,l.vertical==="center"?t.center:l.vertical===i.vertical?t.bottom:t.top);e.maxHeight=Math.min(d,u),e.top=Math.max(0,u-d)}else e.top=Math.max(0,l.vertical==="center"?t.center:l.vertical===i.vertical?t.top:t.bottom),e.maxHeight=Math.min(d,s-e.top);if(e.left<0||e.left+o>f)if(e.maxWidth=Math.min(o,f),i.horizontal==="middle")e.left=t[l.horizontal]>f/2?Math.max(0,f-o):0;else if(t[l.horizontal]>f/2){const u=Math.min(f,l.horizontal==="middle"?t.middle:l.horizontal===i.horizontal?t.right:t.left);e.maxWidth=Math.min(o,u),e.left=Math.max(0,u-e.maxWidth)}else e.left=Math.max(0,l.horizontal==="middle"?t.middle:l.horizontal===i.horizontal?t.left:t.right),e.maxWidth=Math.min(o,f-e.left)}var zt=_({name:"QMenu",inheritAttrs:!1,props:{...ct,...it,...O,...bt,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:be},self:{type:String,validator:be},offset:{type:Array,validator:St},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...ot,"click","escapeKey"],setup(e,{slots:t,emit:n,attrs:l}){let i=null,d,o,r;const s=P(),{proxy:f}=s,{$q:u}=f,g=B(null),p=B(!1),a=b(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),v=N(e,u),{registerTick:E,removeTick:k}=yt(),{registerTimeout:T}=ut(),{transitionProps:h,transitionStyle:c}=pt(e),{localScrollTarget:x,changeScrollEvent:y,unconfigureScrollTarget:W}=ft(e,re),{anchorEl:q,canShow:C}=dt({showing:p}),{hide:S}=at({showing:p,canShow:C,handleShow:Me,handleHide:_e,hideOnRouteChange:a,processOnMount:!0}),{showPortal:le,hidePortal:ie,renderPortal:Be}=gt(s,g,Ae,"menu"),U={anchorEl:q,innerRef:g,onClickOutside(m){if(e.persistent!==!0&&p.value===!0)return S(m),(m.type==="touchstart"||m.target.classList.contains("q-dialog__backdrop"))&&Ee(m),!0}},oe=b(()=>pe(e.anchor||(e.cover===!0?"center middle":"bottom start"),u.lang.rtl)),Pe=b(()=>e.cover===!0?oe.value:pe(e.self||"top start",u.lang.rtl)),Le=b(()=>(e.square===!0?" q-menu--square":"")+(v.value===!0?" q-menu--dark q-dark":"")),He=b(()=>e.autoClose===!0?{onClick:We}:{}),ae=b(()=>p.value===!0&&e.persistent!==!0);$(ae,m=>{m===!0?(wt(X),Ct(U)):(ve(X),me(U))});function G(){tt(()=>{let m=g.value;m&&m.contains(document.activeElement)!==!0&&(m=m.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||m.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||m.querySelector("[autofocus], [data-autofocus]")||m,m.focus({preventScroll:!0}))})}function Me(m){if(i=e.noRefocus===!1?document.activeElement:null,Et(se),le(),re(),d=void 0,m!==void 0&&(e.touchPosition||e.contextMenu)){const Y=Xe(m);if(Y.left!==void 0){const{top:Qe,left:De}=q.value.getBoundingClientRect();d={left:Y.left-De,top:Y.top-Qe}}}o===void 0&&(o=$(()=>u.screen.width+"|"+u.screen.height+"|"+e.self+"|"+e.anchor+"|"+u.lang.rtl,D)),e.noFocus!==!0&&document.activeElement.blur(),E(()=>{D(),e.noFocus!==!0&&G()}),T(()=>{u.platform.is.ios===!0&&(r=e.autoClose,g.value.click()),D(),le(!0),n("show",m)},e.transitionDuration)}function _e(m){k(),ie(),ue(!0),i!==null&&(m===void 0||m.qClickOutside!==!0)&&(((m&&m.type.indexOf("key")===0?i.closest('[tabindex]:not([tabindex^="-"])'):void 0)||i).focus(),i=null),T(()=>{ie(!0),n("hide",m)},e.transitionDuration)}function ue(m){d=void 0,o!==void 0&&(o(),o=void 0),(m===!0||p.value===!0)&&(Tt(se),W(),me(U),ve(X)),m!==!0&&(i=null)}function re(){(q.value!==null||e.scrollTarget!==void 0)&&(x.value=lt(q.value,e.scrollTarget),y(x.value,D))}function We(m){r!==!0?(Te(f,m),n("click",m)):r=!1}function se(m){ae.value===!0&&e.noFocus!==!0&&Ze(g.value,m.target)!==!0&&G()}function X(m){n("escapeKey"),S(m)}function D(){$e({targetEl:g.value,offset:e.offset,anchorEl:q.value,anchorOrigin:oe.value,selfOrigin:Pe.value,absoluteOffset:d,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Ae(){return w(Ye,h.value,()=>p.value===!0?w("div",{role:"menu",...l,ref:g,tabindex:-1,class:["q-menu q-position-engine scroll"+Le.value,l.class],style:[l.style,c.value],...He.value},F(t.default)):null)}return R(ue),Object.assign(f,{focus:G,updatePosition:D}),Be}});function xe(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var Kt=Je({name:"close-popup",beforeMount(e,{value:t}){const n={depth:xe(t),handler(l){n.depth!==0&&setTimeout(()=>{const i=vt(e);i!==void 0&&mt(i,l,n.depth)})},handlerKey(l){j(l,13)===!0&&n.handler(l)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=xe(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});export{Kt as C,Qt as Q,ot as a,ut as b,rt as c,at as d,Wt as e,Dt as f,zt as g,At as h,Rt as i,Ft as j,bt as k,it as u};
